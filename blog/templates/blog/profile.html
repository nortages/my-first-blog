{% extends 'blog/base.html' %}

{% block content %}
    <div class="col-12">
        <div class="profile_block">
            <img class="profile_pic" src="{{ profile.profile_pic.url }}" height='150' width='150'>
            <div class="profile_info">
                <h1>{{ profile.user.username }}
                {% if user.is_superuser or post.author == user %}
                    <a class="btn" href="{% url 'profile_edit' username=profile.user.username %}"><i class="fas fa-edit"></i></a>
                {% endif %}</h1>
                <p>Posts: {{ posts.count }}</p>
                <p>Comments: {{ profile.user.comments.count }}</p>
            </div>
        </div>
        <div class="posts">
            {% for post in posts %}
                <div class="post">
                    <h1 class="title ellipses"><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h1>
                    <div class="date">
                        {{ post.created_date }}
                        <a href="{% url 'profile' username=post.author.username %}">{{ post.author.username }}</a>
                    </div>
                    <a href="{% url 'post_detail' pk=post.pk %}">Comments: {{ post.comments.count }}</a>
                </div>
                {% empty %}
                    <p>No posts here yet :(</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}